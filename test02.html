<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>DOM操作入門</title>
  </head>
  <body>
    <form>
      <input type="text" name="" id="name"/>
      <!-- <input value="送信" id="btn"/> -->
      <input value="追加" id="btn"/>

    </form>
    <h3>TODOリスト</h3>
    <ul id="lists"></ul>
    <button type="button" id="deleteButton">削除する</button>
    <script>
      // const target = document.getElementById('btn');
      // target.addEventListener('click', function(){
      //   const form = document.getElementById('name');
      //   console.log(form.value);
      // },false);//falseは他のブラウザでもfalseで統一するために書かれている

      const lists = document.getElementById('lists');
      const target = document.getElementById('btn');
      target.addEventListener('click', function(){
        const form = document.getElementById('name');
        const list = document.createElement('li');

        if(form.value == ""){
          window.alert('TODOを入力してください。');
        }else{
          list.textContent = form.value;

          list.addEventListener('click', function(e){
            // console.log(e.target);
            const doneList = e.target;//このtargetはイベントのtargetのこと。定数のtargetとは関係ない。
            doneList.style.textDecoration = 'line-through';
            doneList.style.color = 'gray';
            doneList.style.fontStyle = 'italic';

          },false);

          lists.appendChild(list);
          form.value = "";
          // console.log(list);
        }

      },false);

      const deleteButton = document.getElementById('deleteButton');
      deleteButton.addEventListener('click', function(){
        // console.log("テスト");
        // console.log("すべての子ノード", lists.childNodes);
        // console.log("最初の子ノード", lists.firstChild);
        // console.log("末尾の子ノード", lists.lastChild);
        while (lists.firstChild){
          lists.removeChild(lists.firstChild);
        }
      },false);



    </script>
  </body>
</html>
